<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz H·ªçc Thu·ªôc Ch·ªß ƒê·ªÅ Ti·∫øng Anh</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #4a6ee0;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .instructions {
            background-color: #e8f4fc;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #4a6ee0;
        }
        
        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .topic-section {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .topic-section:hover {
            transform: translateY(-5px);
        }
        
        .topic-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .topic-title {
            font-size: 1.3rem;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .topic-number {
            background-color: #4a6ee0;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .tip-box {
            background-color: #fff8e1;
            border-radius: 6px;
            padding: 10px 15px;
            margin-bottom: 20px;
            font-style: italic;
            border-left: 4px solid #ffc107;
        }
        
        .tip-title {
            font-weight: 600;
            color: #ff9800;
            margin-bottom: 5px;
        }
        
        .quiz-question {
            margin-bottom: 15px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .option {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-weight: 500;
        }
        
        .option:hover {
            background-color: #f0f5ff;
            border-color: #a3c4ff;
        }
        
        .option.selected {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        
        .option.correct {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        
        .option.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }
        
        .feedback {
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
            font-weight: 500;
        }
        
        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }
        
        .feedback.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }
        
        .button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .check-button, .next-button, .reset-topic-button, .reset-all-button {
            background-color: #4a6ee0;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .check-button:hover, .next-button:hover, .reset-topic-button:hover, .reset-all-button:hover {
            background-color: #3a5bc7;
            transform: translateY(-2px);
        }
        
        .check-button:disabled, .next-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .reset-topic-button {
            background-color: #ff9800;
        }
        
        .reset-topic-button:hover {
            background-color: #e68900;
        }
        
        .reset-all-button {
            background-color: #6c757d;
        }
        
        .reset-all-button:hover {
            background-color: #5a6268;
        }
        
        .score-board {
            text-align: center;
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border: 1px dashed #6c757d;
        }
        
        .score-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .score-value {
            font-size: 1.8rem;
            color: #4a6ee0;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: #4a6ee0;
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .topic-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .topic-title {
                margin-bottom: 10px;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .check-button, .next-button, .reset-topic-button, .reset-all-button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Quiz H·ªçc Thu·ªôc Ch·ªß ƒê·ªÅ Ti·∫øng Anh</h1>
            <p class="subtitle">Luy·ªán t·∫≠p ghi nh·ªõ c√°c m·∫´u h·ªôi tho·∫°i theo ch·ªß ƒë·ªÅ</p>
        </header>
        
        <div class="instructions">
            <h3>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng:</h3>
            <ul>
                <li>M·ªói ch·ªß ƒë·ªÅ c√≥ m·ªôt <strong>m·∫πo ghi nh·ªõ</strong> v√† m·ªôt c√¢u h·ªèi tr·∫Øc nghi·ªám</li>
                <li>Ch·ªçn ƒë√°p √°n ƒë√∫ng (d·∫°ng chu·ªói B, M, W) cho m·ªói ch·ªß ƒë·ªÅ</li>
                <li>B·∫•m "Ki·ªÉm tra" ƒë·ªÉ xem k·∫øt qu·∫£, sau ƒë√≥ b·∫•m "Ti·∫øp theo" ƒë·ªÉ chuy·ªÉn ch·ªß ƒë·ªÅ</li>
                <li>B·∫•m "L√†m l·∫°i ch·ªß ƒë·ªÅ n√†y" ƒë·ªÉ reset v√† random l·∫°i v·ªã tr√≠ ƒë√°p √°n</li>
                <li>Ho√†n th√†nh t·∫•t c·∫£ 8 ch·ªß ƒë·ªÅ ƒë·ªÉ xem ƒëi·ªÉm t·ªïng k·∫øt</li>
                <li><strong>K√Ω hi·ªáu:</strong> B = Both (C·∫£ hai), M = Man (ƒê√†n √¥ng), W = Woman (Ph·ª• n·ªØ)</li>
            </ul>
        </div>
        
        <div id="topic-container">
            <!-- C√°c ch·ªß ƒë·ªÅ s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·∫°i ƒë√¢y -->
        </div>
        
        <div class="score-board">
            <p class="score-text">Ti·∫øn ƒë·ªô ho√†n th√†nh</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>
            <p class="progress-text" id="progress-text">ƒê√£ ho√†n th√†nh: 0/8 ch·ªß ƒë·ªÅ</p>
            <p class="score-text">ƒêi·ªÉm s·ªë:</p>
            <p class="score-value" id="score-value">0/8</p>
            <button class="reset-all-button" id="reset-all-button">L√†m l·∫°i t·∫•t c·∫£</button>
        </div>
        
        <footer>
            <p>Quiz ƒë∆∞·ª£c thi·∫øt k·∫ø d·ª±a tr√™n t√†i li·ªáu h·ªçc thu·ªôc c√°c ch·ªß ƒë·ªÅ ti·∫øng Anh</p>
        </footer>
    </div>

    <script>
        // D·ªØ li·ªáu c√°c ch·ªß ƒë·ªÅ
        const topicsData = [
            {
                id: 1,
                title: "Actor: Di·ªÖn vi√™n",
                tip: "M·∫πo: Gi·ªçng nam ƒë·ªçc tr∆∞·ªõc: Ph·ª• n·ªØ n√≥i ƒë√†n √¥ng ƒë·ªÅu ch·ªçn Tom v√† ƒë·ªÅu th·∫ßn t∆∞·ª£ng anh ·∫•y. Gi·ªçng n·ªØ ƒë·ªçc tr∆∞·ªõc: ƒê√†n √¥ng n√≥i ph·ª• n·ªØ ƒë·ªÅu ch·ªçn Tom v√† ƒë·ªÅu th·∫ßn t∆∞·ª£ng anh ·∫•y.",
                question: "V·ªõi ch·ªß ƒë·ªÅ Actor, gi·ªçng nam ƒë·ªçc tr∆∞·ªõc, ƒë√¢u l√† th·ª© t·ª± ƒë√∫ng?",
                options: [
                    { text: "W ‚Äì M ‚Äì B ‚Äì B", correct: true },
                    { text: "M ‚Äì W ‚Äì B ‚Äì B", correct: false },
                    { text: "B ‚Äì W ‚Äì M ‚Äì B", correct: false },
                    { text: "B ‚Äì B ‚Äì M ‚Äì B", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            },
            {
                id: 2,
                title: "University: Tr∆∞·ªùng ƒë·∫°i h·ªçc",
                tip: "M·∫πo: Gi·ªçng nam ƒë·ªçc tr∆∞·ªõc: B·ªë ƒë∆∞a con g√°i ƒëi h·ªçc, nh∆∞ng ƒë·∫øn tr∆∞·ªùng th√¨ ng∆∞·ªùi y√™u ƒë∆∞a con g√°i ƒëi ch∆°i.",
                question: "V·ªõi ch·ªß ƒë·ªÅ University, gi·ªçng nam ƒë·ªçc tr∆∞·ªõc, ƒë√¢u l√† th·ª© t·ª± ƒë√∫ng?",
                options: [
                    { text: "B ‚Äì W ‚Äì M ‚Äì W", correct: true },
                    { text: "B ‚Äì M ‚Äì W ‚Äì M", correct: false },
                    { text: "M ‚Äì W ‚Äì B ‚Äì W", correct: false },
                    { text: "W ‚Äì B ‚Äì M ‚Äì B", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            },
            {
                id: 3,
                title: "Urban Farming: N√¥ng nghi·ªáp ƒë√¥ th·ªã",
                tip: "M·∫πo: Gi·ªçng nam ƒë·ªçc tr∆∞·ªõc: Ph·ª• n·ªØ n√≥i c·∫£ ƒë√†n √¥ng v√† ph·ª• n·ªØ ƒë·ªÅu ph·∫£i l√†m r·ªông.",
                question: "V·ªõi ch·ªß ƒë·ªÅ Urban Farming, gi·ªçng nam ƒë·ªçc tr∆∞·ªõc, ƒë√¢u l√† th·ª© t·ª± ƒë√∫ng?",
                options: [
                    { text: "W ‚Äì B ‚Äì M ‚Äì B", correct: true },
                    { text: "M ‚Äì B ‚Äì W ‚Äì B", correct: false },
                    { text: "B ‚Äì W ‚Äì M ‚Äì W", correct: false },
                    { text: "B ‚Äì M ‚Äì W ‚Äì M", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            },
            {
                id: 4,
                title: "Internet",
                tip: "M·∫πo: C·∫£ ph·ª• n·ªØ v√† ƒë√†n √¥ng ƒë·ªÅu th√≠ch Internet. Khi nghe kh√≥ nh·∫≠n bi·∫øt, h√£y ch·ªçn phi√™n b·∫£n c√≥ B ·ªü hai ƒë·∫ßu v√† W ·ªü gi·ªØa.",
                question: "V·ªõi ch·ªß ƒë·ªÅ Internet, ƒë√¢u l√† th·ª© t·ª± ph·ªï bi·∫øn nh·∫•t?",
                options: [
                    { text: "B ‚Äì W ‚Äì W ‚Äì B", correct: true },
                    { text: "B ‚Äì B ‚Äì M ‚Äì B", correct: false },
                    { text: "M ‚Äì W ‚Äì B ‚Äì W", correct: false },
                    { text: "B ‚Äì W ‚Äì M ‚Äì B", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            },
            {
                id: 5,
                title: "Arts: Ngh·ªá thu·∫≠t",
                tip: "M·∫πo: Gi·ªçng nam ƒë·ªçc tr∆∞·ªõc: Ch√†ng trai v√† c√¥ g√°i c√πng nhau nh·∫£y m√∫a, nh∆∞ng c√¥ g√°i r·ªùi ƒëi khi b·∫£n nh·∫°c ƒë·ªùi v·∫´n c√≤n dang d·ªü.",
                question: "V·ªõi ch·ªß ƒë·ªÅ Arts, gi·ªçng nam ƒë·ªçc tr∆∞·ªõc, ƒë√¢u l√† th·ª© t·ª± ƒë√∫ng?",
                options: [
                    { text: "M ‚Äì W ‚Äì B ‚Äì W", correct: true },
                    { text: "W ‚Äì M ‚Äì B ‚Äì M", correct: false },
                    { text: "B ‚Äì W ‚Äì M ‚Äì W", correct: false },
                    { text: "M ‚Äì B ‚Äì W ‚Äì B", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            },
            {
                id: 6,
                title: "Changes in the Workplace: Thay ƒë·ªïi n∆°i l√†m vi·ªác",
                tip: "M·∫πo: Gi·ªçng n·ªØ ƒë·ªçc tr∆∞·ªõc: ƒê√†n √¥ng v√† ph·ª• n·ªØ ƒë·ªÅu c√¥ng nh·∫≠n ƒë√†n √¥ng l√†m vi·ªác kho·∫ª h∆°n.",
                question: "V·ªõi ch·ªß ƒë·ªÅ Changes in the Workplace, gi·ªçng n·ªØ ƒë·ªçc tr∆∞·ªõc, ƒë√¢u l√† th·ª© t·ª± ƒë√∫ng?",
                options: [
                    { text: "M ‚Äì W ‚Äì B ‚Äì M", correct: true },
                    { text: "W ‚Äì M ‚Äì B ‚Äì W", correct: false },
                    { text: "B ‚Äì W ‚Äì M ‚Äì B", correct: false },
                    { text: "M ‚Äì B ‚Äì W ‚Äì B", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            },
            {
                id: 7,
                title: "Music and singers: √Çm nh·∫°c v√† ca sƒ©",
                tip: "M·∫πo: Gi·ªçng nam ƒë·ªçc tr∆∞·ªõc: ƒê√†n √¥ng th√≠ch c·∫£ √¢m nh·∫°c v√† ca sƒ©, ph·ª• n·ªØ c≈©ng th√≠ch c·∫£ √¢m nh·∫°c v√† ca sƒ©.",
                question: "V·ªõi ch·ªß ƒë·ªÅ Music and singers, gi·ªçng nam ƒë·ªçc tr∆∞·ªõc, ƒë√¢u l√† th·ª© t·ª± ƒë√∫ng?",
                options: [
                    { text: "M ‚Äì B ‚Äì W ‚Äì B", correct: true },
                    { text: "W ‚Äì B ‚Äì M ‚Äì B", correct: false },
                    { text: "B ‚Äì W ‚Äì M ‚Äì W", correct: false },
                    { text: "B ‚Äì M ‚Äì W ‚Äì M", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            },
            {
                id: 8,
                title: "Information and technology: Th√¥ng tin v√† c√¥ng ngh·ªá",
                tip: "M·∫πo: Gi·ªçng nam ƒë·ªçc tr∆∞·ªõc: ƒê√†n √¥ng ch√™ ph·ª• n·ªØ k√©m c√¥ng ngh·ªá, nh∆∞ng ph·ª• n·ªØ nghƒ© c·∫£ 2 ƒë·ªÅu gi·ªèi.",
                question: "V·ªõi ch·ªß ƒë·ªÅ Information and technology, gi·ªçng nam ƒë·ªçc tr∆∞·ªõc, ƒë√¢u l√† th·ª© t·ª± ƒë√∫ng?",
                options: [
                    { text: "M ‚Äì W ‚Äì W ‚Äì B", correct: true },
                    { text: "W ‚Äì M ‚Äì M ‚Äì B", correct: false },
                    { text: "B ‚Äì W ‚Äì M ‚Äì W", correct: false },
                    { text: "B ‚Äì M ‚Äì W ‚Äì B", correct: false }
                ],
                userAnswer: null,
                checked: false,
                completed: false
            }
        ];

        // Bi·∫øn to√†n c·ª•c
        let currentTopicIndex = 0;
        let score = 0;

        // H√†m random m·∫£ng (Fisher-Yates shuffle)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Kh·ªüi t·∫°o trang quiz
        function initQuiz() {
            // Random v·ªã tr√≠ ƒë√°p √°n cho t·∫•t c·∫£ ch·ªß ƒë·ªÅ l·∫ßn ƒë·∫ßu
            topicsData.forEach(topic => {
                topic.options = shuffleArray([...topic.options]);
            });
            
            renderTopic(currentTopicIndex);
            updateProgress();
        }

        // Hi·ªÉn th·ªã ch·ªß ƒë·ªÅ
        function renderTopic(index) {
            const topic = topicsData[index];
            const container = document.getElementById('topic-container');
            
            // T·∫°o HTML cho ch·ªß ƒë·ªÅ
            const topicHTML = `
                <div class="topic-section" id="topic-${topic.id}">
                    <div class="topic-header">
                        <div class="topic-title">${topic.title}</div>
                        <div class="topic-number">Ch·ªß ƒë·ªÅ ${topic.id} / ${topicsData.length}</div>
                    </div>
                    
                    <div class="tip-box">
                        <div class="tip-title">üìù M·∫πo ghi nh·ªõ:</div>
                        <div>${topic.tip}</div>
                    </div>
                    
                    <div class="quiz-question">${topic.question}</div>
                    
                    <div class="options-container" id="options-container-${topic.id}">
                        ${topic.options.map((option, i) => `
                            <div class="option" data-index="${i}" onclick="selectOption(${topic.id}, ${i})">
                                ${option.text}
                            </div>
                        `).join('')}
                    </div>
                    
                    <div id="feedback-${topic.id}" class="feedback"></div>
                    
                    <div class="button-container">
                        <button class="check-button" id="check-button-${topic.id}" onclick="checkAnswer(${topic.id})" ${topic.userAnswer === null ? 'disabled' : ''}>Ki·ªÉm tra</button>
                        <button class="next-button" id="next-button-${topic.id}" onclick="nextTopic()" ${topic.completed && index < topicsData.length - 1 ? '' : 'disabled'}>Ti·∫øp theo</button>
                        <button class="reset-topic-button" id="reset-topic-button-${topic.id}" onclick="resetTopic(${topic.id})">L√†m l·∫°i ch·ªß ƒë·ªÅ n√†y</button>
                    </div>
                </div>
            `;
            
            container.innerHTML = topicHTML;
            
            // N·∫øu ƒë√£ c√≥ c√¢u tr·∫£ l·ªùi tr∆∞·ªõc ƒë√≥, hi·ªÉn th·ªã l·∫°i
            if (topic.userAnswer !== null) {
                selectOption(topic.id, topic.userAnswer);
                
                // Hi·ªÉn th·ªã k·∫øt qu·∫£ n·∫øu ƒë√£ ki·ªÉm tra
                if (topic.checked) {
                    showResult(topic.id);
                }
            }
        }

        // Ch·ªçn m·ªôt ƒë√°p √°n
        function selectOption(topicId, optionIndex) {
            const topic = topicsData.find(t => t.id === topicId);
            topic.userAnswer = optionIndex;
            
            // ƒê√°nh d·∫•u option ƒë∆∞·ª£c ch·ªçn
            const options = document.querySelectorAll(`#options-container-${topicId} .option`);
            options.forEach(option => option.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            
            // K√≠ch ho·∫°t n√∫t ki·ªÉm tra
            document.getElementById(`check-button-${topicId}`).disabled = false;
        }

        // Ki·ªÉm tra ƒë√°p √°n
        function checkAnswer(topicId) {
            const topic = topicsData.find(t => t.id === topicId);
            const selectedOption = topic.options[topic.userAnswer];
            const feedbackElement = document.getElementById(`feedback-${topicId}`);
            
            // ƒê√°nh d·∫•u ƒë√°p √°n ƒë√∫ng/sai
            const options = document.querySelectorAll(`#options-container-${topicId} .option`);
            options.forEach((option, index) => {
                option.classList.remove('correct', 'incorrect');
                if (topic.options[index].correct) {
                    option.classList.add('correct');
                } else if (index === topic.userAnswer) {
                    option.classList.add('incorrect');
                }
            });
            
            // Hi·ªÉn th·ªã ph·∫£n h·ªìi
            if (selectedOption.correct) {
                feedbackElement.textContent = "Ch√≠nh x√°c! ƒê√°p √°n c·ªßa b·∫°n l√† ƒë√∫ng.";
                feedbackElement.className = "feedback correct";
                
                // TƒÉng ƒëi·ªÉm n·∫øu ch∆∞a ƒë∆∞·ª£c t√≠nh tr∆∞·ªõc ƒë√≥
                if (!topic.checked) {
                    score++;
                    updateProgress();
                }
                
                // ƒê√°nh d·∫•u ƒë√£ ho√†n th√†nh
                topic.completed = true;
            } else {
                feedbackElement.textContent = "Ch∆∞a ch√≠nh x√°c. H√£y xem l·∫°i m·∫πo ghi nh·ªõ v√† th·ª≠ l·∫°i.";
                feedbackElement.className = "feedback incorrect";
            }
            
            // V√¥ hi·ªáu h√≥a n√∫t ki·ªÉm tra
            document.getElementById(`check-button-${topicId}`).disabled = true;
            
            // ƒê√°nh d·∫•u ƒë√£ ki·ªÉm tra
            topic.checked = true;
            
            // K√≠ch ho·∫°t n√∫t ti·∫øp theo n·∫øu ch∆∞a ph·∫£i ch·ªß ƒë·ªÅ cu·ªëi
            if (currentTopicIndex < topicsData.length - 1 && topic.completed) {
                document.getElementById(`next-button-${topicId}`).disabled = false;
            }
        }

        // L√†m l·∫°i ch·ªß ƒë·ªÅ hi·ªán t·∫°i
        function resetTopic(topicId) {
            const topic = topicsData.find(t => t.id === topicId);
            
            // Reset tr·∫°ng th√°i ch·ªß ƒë·ªÅ
            topic.userAnswer = null;
            topic.checked = false;
            topic.completed = false;
            
            // Random l·∫°i v·ªã tr√≠ ƒë√°p √°n
            topic.options = shuffleArray([...topic.options]);
            
            // N·∫øu l√† ch·ªß ƒë·ªÅ hi·ªán t·∫°i, render l·∫°i
            if (currentTopicIndex === topicId - 1) {
                renderTopic(currentTopicIndex);
            }
            
            // C·∫≠p nh·∫≠t l·∫°i ƒëi·ªÉm s·ªë n·∫øu ƒë√£ ƒë∆∞·ª£c t√≠nh tr∆∞·ªõc ƒë√≥
            if (topic.checked && topic.options[topic.userAnswer]?.correct) {
                score--;
                updateProgress();
            }
        }

        // Chuy·ªÉn sang ch·ªß ƒë·ªÅ ti·∫øp theo
        function nextTopic() {
            if (currentTopicIndex < topicsData.length - 1) {
                currentTopicIndex++;
                renderTopic(currentTopicIndex);
            }
        }

        // C·∫≠p nh·∫≠t ti·∫øn ƒë·ªô v√† ƒëi·ªÉm s·ªë
        function updateProgress() {
            const completedTopics = topicsData.filter(topic => topic.completed).length;
            const totalTopics = topicsData.length;
            const progressPercent = (completedTopics / totalTopics) * 100;
            
            // C·∫≠p nh·∫≠t thanh ti·∫øn ƒë·ªô
            document.getElementById('progress-fill').style.width = `${progressPercent}%`;
            document.getElementById('progress-text').textContent = `ƒê√£ ho√†n th√†nh: ${completedTopics}/${totalTopics} ch·ªß ƒë·ªÅ`;
            
            // C·∫≠p nh·∫≠t ƒëi·ªÉm s·ªë
            document.getElementById('score-value').textContent = `${score}/${totalTopics}`;
        }

        // ƒê·∫∑t l·∫°i to√†n b·ªô quiz
        function resetAll() {
            // ƒê·∫∑t l·∫°i t·∫•t c·∫£ c√¢u tr·∫£ l·ªùi v√† random l·∫°i ƒë√°p √°n
            topicsData.forEach(topic => {
                topic.userAnswer = null;
                topic.checked = false;
                topic.completed = false;
                topic.options = shuffleArray([...topic.options]);
            });
            
            // ƒê·∫∑t l·∫°i ƒëi·ªÉm v√† ch·ªß ƒë·ªÅ hi·ªán t·∫°i
            currentTopicIndex = 0;
            score = 0;
            
            // Hi·ªÉn th·ªã l·∫°i ch·ªß ƒë·ªÅ ƒë·∫ßu ti√™n
            renderTopic(currentTopicIndex);
            updateProgress();
        }

        // G√°n s·ª± ki·ªán cho n√∫t ƒë·∫∑t l·∫°i t·∫•t c·∫£
        document.addEventListener('DOMContentLoaded', function() {
            initQuiz();
            
            document.getElementById('reset-all-button').addEventListener('click', resetAll);
        });
    </script>
</body>
</html>